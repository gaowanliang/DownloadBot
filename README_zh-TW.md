# DownloadBot


(ç›®å‰)ğŸ¤– ä¸€å€‹æ§åˆ¶ä½ çš„Aria2ä¼ºæœå™¨çš„Telegram Botã€‚

## å¯¦ç¾

#### ä¸‹è¼‰æ–¹å¼
- [x] Aria2 æ§åˆ¶
- [ ] [SimpleTorrent](https://github.com/boypt/simple-torrent) æ§åˆ¶
- [ ] qbittorrent æ§åˆ¶

#### æ©Ÿå™¨äººå”å®šæ”¯æ´
- [x] Telegram Bot
- [ ] é‡˜é‡˜æ©Ÿå™¨äºº

#### åŠŸèƒ½
- [x] ä¸‹è¼‰æª”æ¡ˆ
  - [x] ä¸‹è¼‰ HTTP/FTP é€£çµ
  - [x] ä¸‹è¼‰ Magnet é€£çµ
  - [x] ä¸‹è¼‰ BT æ–‡ä»¶å…§çš„æ–‡ä»¶
  - [ ] è‡ªè¨‚çš„ Torrent/Magnet ä¸‹è¼‰
    - [ ] ä¸ä¸‹è¼‰å°æ–¼æŒ‡å®šå¤§å°çš„æª”
  - [ ] è‡ªæˆ‘èª¿æ•´ç’°å¢ƒå­˜å„²ç©ºé–“çš„ Torrent/Magnet ä¸‹è¼‰
    - [ ] ä¸ä¸‹è¼‰è¶…éå­˜å„²ç©ºé–“çš„æª”
    - [ ] æ ¹æ“šå­˜å„²ç©ºé–“åˆ†å¡Šå¤šæ¬¡ä¸‹è¼‰ Torrent/Magnet å…§çš„æª”
- [ ] ä¸Šå‚³æ–‡ä»¶
  - [ ] ä¸‹è¼‰å®Œæˆå¾Œï¼Œå‘ OneDrive ä¸Šå‚³æª”
  - [ ] ä¸‹è¼‰å®Œæˆå¾Œï¼Œå‘ Google Drive ä¸Šå‚³æª”
  - [ ] ä¸‹è¼‰å®Œæˆå¾Œï¼Œå‘ Mega ä¸Šå‚³æª”
  - [ ] ä¸‹è¼‰å®Œæˆå¾Œï¼Œå‘ å¤©ç¿¼ç¶²ç›¤ ä¸Šå‚³æª”
- [x] é™„åŠ å…¶ä»–åŠŸèƒ½
  - [x] å¤šèªè¨€æ”¯æ´
    - [x] ç°¡é«”ä¸­æ–‡
    - [x] è‹±èª
    - [x] ç¹é«”ä¸­æ–‡
    - [ ] æ—¥èª
  - [ ] ç„¡äººå€¼å®ˆçš„BTç«™ä¸‹è¼‰
    - [ ] Nyaa
    - [ ] ThePirateBay
  - [ ] å…¶ä»–åŠŸèƒ½
    - [ ] é€šéæ¼”å“¡IDç²å–åœ¨DMMä¸­ä½¿ç”¨çš„æ‰€æœ‰CID
    - [ ] æŸ¥è©¢ "ikoa "ä¸­çš„å½±ç‰‡åƒæ•¸(åˆ©ç”¨mahuateng)
    - [ ] é€šéjavlibaryæ¼”å“¡ç¶²å€ç²å¾—æ‰€æœ‰æ¼”å“¡çš„ç·¨è™Ÿã€‚
    - [ ] æŸ¥è©¢dmm cidè³‡è¨Šã€é è¦½å½±ç‰‡ã€é è¦½åœ–ç‰‡ã€‚
    - [ ] åœ¨sukebeiä¸­æŒ‰é—œéµå­—æœç´¢ã€‚
    - [ ] æ ¹æ“šé—œéµå­—åœ¨dmmä¸­æœç´¢ï¼Œæœ€å¤š30é …ã€‚
    - [ ] è¼¸å…¥dmmé€£çµï¼Œåˆ—å‡ºæ‰€æœ‰å°ˆæ¡ˆã€‚
    - [ ] æœç´¢ç•¶å‰dmmç†±é–€å’Œæœ€æ–°é›»å½±ï¼Œé™åˆ¶30æ¢(æ¸¬è©¦ç‰ˆ)

## ç›®å‰ç‰¹é»
1. å®Œå…¨åŸºæ–¼è§¸æ‘¸ï¼Œæ›´å®¹æ˜“ä½¿ç”¨ï¼Œä½¿ç”¨é€™å€‹æ©Ÿå™¨äººåŸºæœ¬ä¸éœ€è¦å‘½ä»¤ã€‚
2. å³æ™‚é€šçŸ¥ï¼Œä½¿ç”¨Aria2çš„Websocketå”è­°é€²è¡Œé€šä¿¡ã€‚
3. æ›´å¥½çš„è¨­å®šæª”æ”¯æŒã€‚

## é–‹å§‹

1. é€šé[@BotFather](https://telegram.me/botfather)å‰µå»ºæ‚¨è‡ªå·±çš„botä¸¦ä½¿ç”¨ã€‚
2. ï¼ˆå¯é¸ï¼‰æ‚¨æ‰€åœ¨åœ°å€/åœ‹å®¶çš„Telegramè¢«å°é–ï¼Ÿä¸€å®šè¦æœ‰ä¸€å€‹ **HTTP** proxyå•Ÿå‹•ä¸¦é‹è¡Œï¼Œæ‚¨å¯ä»¥è¨­ç½®æ‚¨çš„ç³»çµ±ç’°å¢ƒè®Šæ•¸`HTTPS_PROXY`ç‚ºä»£ç†ä½å€ä¾†é€²è¡Œä»£ç†ã€‚
3. ä¸‹è¼‰æœ¬ç¨‹å¼
4. åœ¨æƒ³è¦åŸ·è¡Œæœ¬ç¨‹å¼çš„æ ¹ç›®éŒ„é…ç½®`config.json`
5. é‹è¡Œå¯åŸ·è¡Œæª”

## ä¸‰ç¨®æ–¹å¼å‚³éåƒæ•¸
æ‚¨å¯ä»¥é€šéä¸‰ç¨®æ–¹å¼å°‡åƒæ•¸å‚³éçµ¦`DownloadBot`ï¼š
* [X] è¨­å®šæª”
* [ ] Cil å‘½ä»¤åˆ—
* [ ] ç³»çµ±ç’°å¢ƒè®Šæ•¸

Option priorities also follow this order, so cli has the highest priority.

|                  | Aria2 server    | Aria2 key    | Telegram bot key | Telegram user id | Max items in range(default 20) | language    |
|------------------|-----------------|--------------|------------------|------------------|--------------------------------|-------------|
| è¨­å®šæª” åƒæ•¸      | aria2-server    | aria2-key    | bot-key          | user-id          | max-index                      | language    |
| Cil å‘½ä»¤åˆ— åƒæ•¸  | --aria2-server  | --aria2-key  | --bot-key        | --user-id        | --max-index                    | --language  |
| ç³»çµ±ç’°å¢ƒè®Šæ•¸åƒæ•¸ | ta.aria2-server | ta.aria2-key | ta.bot-key       | ta.user-id       | ta.max-index                   | ta.language |

### è¨­å®šæª”ç¤ºä¾‹

```json
{
  "aria2-server": "ws://192.168.1.154:6800/jsonrpc",
  "aria2-key": "xxx",
  "bot-key": "123456789:xxx",
  "user-id": "123456",
  "max-index": 10,
  "language":"en"
}
```
å¦‚æœæ‚¨ä¸çŸ¥é“æ‚¨çš„ `user-id` ï¼Œå¯ä»¥å°‡æ­¤é …ç•™ç©ºï¼Œåœ¨é‹è¡Œé€™å€‹æ©Ÿå™¨äººå¾Œè¼¸å…¥`/myid`ï¼Œæ­¤æ©Ÿå™¨äººå°±æœƒè¿”å›æ‚¨çš„`user-id`.


